@model List<BehsamFramework.Models.TimeSheetTableModel>
@{
    ViewData["Title"] = "GetTimeSheet";
    Layout = "~/Areas/CallCenter/Views/Shared/_Layout.cshtml";
}

<div class="card ">
    <div class="card-body">
        <h5 class="card-title ">
            <span class="fa fa-calendar" aria-hidden="true"></span>
            @if (ViewBag.ToDayDescription != null && !string.IsNullOrEmpty(ViewBag.ToDayDescription))
            {

                <span>@ViewBag.ToDayDescription</span>
            }
        </h5>
        <hr />

        <div class="table-responsive" tabindex="1" style="overflow:auto; outline: none;">
            <table class="table table-striped table-hover mg-b-0 text-md-nowrap">
                <thead>
                    <tr>
                        <th rowspan="1" colspan="1">ردیف</th>
                        <th rowspan="1" colspan="1">ساعت شروع</th>
                        <th rowspan="1" colspan="1">ساعت خاتمه</th>
                        <th rowspan="1" colspan="1">عملیات</th>
                    </tr>
                </thead>

                <tbody>
                    @if (Model != null && Model.Count > 0)
                    {
                        @foreach (var time in Model)
                        {
                            <tr role="row">
                                <td>@time.RowNum</td>
                                <td>@time.StartTime</td>
                                <td>@time.EndTime</td>
                                <td>
                                    @if (time.Status)
                                    {

                                        <a 
                                           asp-area="CallCenter" asp-controller="Order" asp-action="GetStoreOrder"
                                           asp-route-customerId="@ViewBag.CustomerId"
                                           asp-route-startTime="@time.StartTime.ToString("c",CultureInfo.InvariantCulture)"
                                           asp-route-endTime="@time.EndTime.ToString("c",CultureInfo.InvariantCulture)" 
                                           asp-route-address="@ViewBag.AddressId">
                                            <i class="fa fa-check text-success" aria-hidden="true"></i>
                                            انتخاب کنید
                                        </a>
                                        

                                        @*<div>
                                            <form href="/CallCenter/Order/GetStoreOrder" method="post">
                                                <input type="hidden" id="startTime" name="startTime" value="@time.StartTime" />
                                                <input type="hidden" id="endTime" name="endTime" value="@time.EndTime" />
                                                <input type="hidden" id="customerId" name="customerId" value="@ViewBag.CustomerId" />
                                                <div class="row">
                                                    <input type="submit" value="انتخاب" class="btn btn-success" />
                                                </div>
                                            </form>
                                        </div>*@


                                    }
                                    else
                                    {
                                        <i class="fa fa-exclamation-triangle text-danger" aria-hidden="true"></i>
                                    }
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

